<%- include('../layouts/userheader.ejs') %>
 <!-- Carousel Start -->
 <div class="container-fluid mb-3">
  <div class="row px-xl-5">
    <div class="col-lg-8">
        <div id="header-carousel" class="carousel slide carousel-fade mb-30 mb-lg-0" data-ride="carousel">
            <ol class="carousel-indicators">
                <li data-target="#header-carousel" data-slide-to="0" class="active"></li>
                <% for(let i=1;i<banner.length;i++){ %>
                <li data-target="#header-carousel" data-slide-to="<%= i %>"></li>
                <% } %>
            </ol>
            <div class="carousel-inner">
                <div class="carousel-item position-relative active" style="height: 430px;">
                    <img class="position-absolute w-100 h-100" src="/images/uploads/<%= banner[0].images %>" style="object-fit: cover;">
                    <div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
                        <div class="p-3" style="max-width: 700px;">
                            <h1 class="display-4 text-white mb-3 animate__animated animate__fadeInDown"><%= banner[0].bannername %></h1>
                            
                        </div>
                    </div>
                </div>
                <% for(let i=1;i<banner.length;i++){ %>
                <div class="carousel-item position-relative" style="height: 430px;">
                    <img class="position-absolute w-100 h-100" src="/images/uploads/<%= banner[i].images %>" style="object-fit: cover;">
                    <div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
                        <div class="p-3" style="max-width: 700px;">
                            <h1 class="display-4 text-white mb-3 animate__animated animate__fadeInDown"><%= banner[i].bannername %></h1>
                            
                        </div>
                    </div>
                </div>
                <% } %>                
            </div>
        </div>
    </div>      
  </div>
</div>
<!-- Carousel End -->

<!-- Featured Start -->
<div class="container-fluid pt-5">
  <div class="row px-xl-5 pb-3">
      <div class="col-lg-3 col-md-6 col-sm-12 pb-1">
          <div class="d-flex align-items-center bg-light mb-4" style="padding: 30px;">
              <h1 class="fa fa-check text-primary m-0 mr-3"></h1>
              <h5 class="font-weight-semi-bold m-0">Quality Product</h5>
          </div>
      </div>
      <div class="col-lg-3 col-md-6 col-sm-12 pb-1">
          <div class="d-flex align-items-center bg-light mb-4" style="padding: 30px;">
              <h1 class="fa fa-shipping-fast text-primary m-0 mr-2"></h1>
              <h5 class="font-weight-semi-bold m-0">Free Shipping</h5>
          </div>
      </div>
      <div class="col-lg-3 col-md-6 col-sm-12 pb-1">
          <div class="d-flex align-items-center bg-light mb-4" style="padding: 30px;">
              <h1 class="fas fa-exchange-alt text-primary m-0 mr-3"></h1>
              <h5 class="font-weight-semi-bold m-0">14-Day Return</h5>
          </div>
      </div>
      <div class="col-lg-3 col-md-6 col-sm-12 pb-1">
          <div class="d-flex align-items-center bg-light mb-4" style="padding: 30px;">
              <h1 class="fa fa-phone-volume text-primary m-0 mr-3"></h1>
              <h5 class="font-weight-semi-bold m-0">24/7 Support</h5>
          </div>
      </div>
  </div>
</div>
<!-- Featured End -->

<!-- Categories Start -->
<div class="container-fluid pt-5">
  <h2 class="section-title position-relative text-uppercase mx-xl-5 mb-4"><span class="bg-secondary pr-3">Categories</span></h2>
  <div class="row px-xl-5 pb-3">
    <% category.forEach(function(item) { %>
      <div class="col-lg-3 col-md-4 col-sm-6 pb-1">
          <a class="text-decoration-none" href="/products/category/<%= item._id %>">
              <div class="cat-item d-flex align-items-center mb-4">
                  <div class="overflow-hidden" style="width: 100px; height: 100px;">
                      <img class="img-fluid" src="/images/uploads/<%= item.images %>" alt="img/cat-1.jpg">
                  </div>
                  <div class="flex-fill pl-3">
                      <h6><%= item.productCategory %></h6>
                      
                      <!-- <small class="text-body"> Products</small> -->
                      
                  </div>
              </div>
          </a>
      </div>
    <% }); %>
  </div>
</div>
<!-- Categories End -->

<!-- Products Start -->
<div class="container-fluid pt-5 pb-3">
  <h2 class="section-title position-relative text-uppercase mx-xl-5 mb-4"><span class="bg-secondary pr-3">Featured Products</span></h2>
  <div class="row px-xl-5">
      <% products.forEach(function(product) { %>
        <div class="col-lg-3 col-md-4 col-sm-6 pb-1">
          <div class="product-item bg-light mb-4">
              <div class="product-img position-relative overflow-hidden">
                  <img class="img-fluid w-100" src="/images/uploads/<%= product.images[0] %>" alt="">
                    <div class="product-action">
                      <a class="btn btn-outline-dark btn-square" href=""><i class="fa fa-shopping-cart"></i></a>
                      
                      <a class="btn btn-outline-dark btn-square" href="/productdetails/<%= product._id %>"><i class="fa fa-search"></i></a>
                    </div>
              </div>
                <div class="text-center py-4">
                    <a class="h6 text-decoration-none text-truncate" href=""><%= product.productname %></a>
                    <div class="d-flex align-items-center justify-content-center mt-2">
                        <h5>â‚¹<%= product.price %></h5><h6 class="text-muted ml-2"><del><%= product.mrp %></del></h6>
                    </div>                     
                </div> 
          </div>
        </div>
      <% }); %>
    </div>
</div>  
<!-- Products End -->
<%- include('../layouts/footer.ejs') %>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const wrapper = document.querySelectorAll(".product");
    wrapper.forEach((item) => {
      item.addEventListener("click", (event) => {
        const idDiv = item.querySelector('#_id');
        window.location.href = `/productdetails/${idDiv.innerHTML}`;
      });
    });
  });
</script>
